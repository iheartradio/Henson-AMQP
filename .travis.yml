dist: trusty

# Use Python
language: python

matrix:
  include:
    - python: 3.5
      env: TOX_ENV=py35
    - python: 3.6
      env: TOX_ENV=py36
    - python: 3.6
      env: TOX_ENV=docs
    - python: 3.6
      env: TOX_ENV=pep8

# Use rabbitmq during tests
services:
  - rabbitmq

# Install the test runner.
install: pip install tox
script: tox -e $TOX_ENV

# Control the branches that get built.
branches:
  only:
    - master
